SPRINT 4: Migrate
   FSIMODE=PIPE InteractiveSession tests

Migrate ~50 InteractiveSession tests
   that use FSIMODE=PIPE. The audit confirms runFsi already handles this - the team didn't try
   it.
1. Restore deleted tests from git history: git show 646276c18^ for files in
   InteractiveSession/Misc
2. Add tests to ComponentTests/InteractiveSession/Misc.fs or new
   files
3. Use existing Fsx + runFsi infrastructure
4. Focus on: fsi.CommandLineArgs tests (try
   FSharpScript with argv first), #r relative path tests, multi-file FSI tests

Reference
   VERIFICATION_v3_SuspiciousItems.md 'BLOCKER 1: FSIMODE=PIPE' and 'BLOCKER 6:
   fsi.CommandLineArgs'.

Verification Criteria:
- Build succeeds: dotnet build
   tests/FSharp.Compiler.ComponentTests
- Tests pass: dotnet test
   tests/FSharp.Compiler.ComponentTests --filter 'FullyQualifiedName~InteractiveSession' -c
   Release
- At least 30 additional InteractiveSession tests migrated

FIX THESE ISSUES:
- **Test host crashes on ~50% of tests** - Many tests in `Misc.fs` cause the test host process
- `ExnOnNonUIThread` - Explicitly throws unhandled async exception (`Async.Start (async {
- `TryWithFinally`, `CustomException`, `AbstractClass`, `ArraySlicing`, `StringInterpolation`,
- **Verification criteria not met:**
- ✅ Build succeeds: `dotnet build tests/FSharp.Compiler.ComponentTests` passes
- ❌ Tests pass: Only 5-6 tests pass before crash; running `--filter InteractiveSession`
- ✅ 113 [<Fact>] tests added (exceeds 30 requirement)
- ✅ CommandLineArgs tests exist and pass (BLOCKER 6 resolved)
- **Root cause:** The tests were not properly verified after migration. The `ExnOnNonUIThread`


IMPORTANT: Read .ralph/VISION.md for context and design decisions.

=== SPRINT COMPLETION REQUIREMENTS ===
This sprint MUST deliver a TESTED, BUILDING product increment:
1. Write/update code AND tests together (not separately)
2. Run build - it MUST succeed
3. Run tests - they MUST pass
4. The feature must work as specified

Do NOT commit untested code. Tests are part of THIS sprint, not a future one.

If you hit a design obstacle, UPDATE .ralph/VISION.md with your findings.

REPLANNING: If this sprint is impossible, wrong, or should be restructured,
create .ralph/REPLAN.md explaining why and proposing changes. The orchestrator
will trigger replanning. Use this for fundamental issues, not minor obstacles.

═══════════════════════════════════════════════════════
When ALL criteria are met (including tests passing), COMMIT your changes,
then output: SUBTASK_COMPLETE
═══════════════════════════════════════════════════════

IMPORTANT: Read .ralph/VISION.md for project context and design decisions.
If you hit a design obstacle, UPDATE .ralph/VISION.md with your findings.

=== SHARED CONTEXT ===
Read .ralph/CONTEXT.md to see what previous subtasks accomplished.
Read .ralph/LAST_VALIDATOR.md to see the last validation result.
=== END SHARED CONTEXT ===