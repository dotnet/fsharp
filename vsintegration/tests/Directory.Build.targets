<Project>
  <Import Project="$([MSBuild]::GetPathOfFileAbove('Directory.Build.targets', '$(MSBuildThisFileDirectory)../'))" />

  <!-- Test-specific settings for xUnit3/MTP migration -->
  <PropertyGroup>
    <!-- Force x64 for .NET Framework test executables to avoid OOM and sizeof issues -->
    <PlatformTarget Condition="'$(OutputType)' == 'Exe' and '$(TargetFramework)' == 'net472'">x64</PlatformTarget>
    <!-- Ensure RuntimeIdentifier is compatible with PlatformTarget -->
    <RuntimeIdentifier Condition="'$(OutputType)' == 'Exe' and '$(TargetFramework)' == 'net472' and '$(OS)' != 'Unix'">win-x64</RuntimeIdentifier>
  </PropertyGroup>

</Project>
