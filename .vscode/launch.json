{
    // For further information about `coreclr` debugging, see https://github.com/OmniSharp/omnisharp-vscode/blob/master/debugger-launchjson.md
    "version": "0.2.0",
    "inputs": [
        {
            "id": "fscArgsPrompt",
            "description": "Enter arguments for fsc",
            "default": "",
            "type": "promptString"
        },
        {
            "id": "fsiArgsPrompt",
            "description": "Enter arguments for fsi (optional)",
            "default": "",
            "type": "promptString",
        }
    ],
    "configurations": [
        {
            "name": "Launch FSI (Debug)",
            "type": "coreclr",
            "request": "launch",
            // TODO: Shall we assume that it's already been built, or build it every time we debug?
            "preLaunchTask": "${defaultBuildTask}",
            // If you have changed target frameworks, make sure to update the program p
            "program": "${workspaceFolder}/artifacts/bin/fsi/Debug/net9.0/fsi.dll",
            "args": [
                "${input:fsiArgsPrompt}"
            ],
            "cwd": "${workspaceFolder}",
            "console": "integratedTerminal", // This is the default to be able to run in Codespaces.
            "internalConsoleOptions": "neverOpen",
            "suppressJITOptimizations": true,
            "stopAtEntry": false,
            "justMyCode": true,
            "enableStepFiltering": true,
            "requireExactSource": false,
            "symbolOptions": {
                "searchMicrosoftSymbolServer": true,
                "searchNuGetOrgSymbolServer": true
            },
            "sourceLinkOptions": {
                "*": {
                    "enabled": true
                }
            },
            "allowFastEvaluate": true
        },
        {
            "name": "Launch FSC (Debug)",
            "type": "coreclr",
            "request": "launch",
            // TODO: Shall we assume that it's already been built, or build it every time we debug?
            "preLaunchTask": "${defaultBuildTask}",
            // If you have changed target frameworks, make sure to update the program path.
            "program": "${workspaceFolder}/artifacts/bin/fsc/Debug/net9.0/fsc.dll",
            "args": [
                "--targetprofile:netstandard",
                "--simpleresolution",
                "${input:fscArgsPrompt}"
            ],
            "cwd": "${workspaceFolder}",
            "console": "integratedTerminal", // This is the default to be able to run in Codespaces.
            "internalConsoleOptions": "neverOpen",
            "suppressJITOptimizations": true,
            "stopAtEntry": false,
            "justMyCode": true,
            "enableStepFiltering": true,
            "requireExactSource": false,
            "symbolOptions": {
                "searchMicrosoftSymbolServer": true,
                "searchNuGetOrgSymbolServer": true
            },
            "sourceLinkOptions": {
                "*": {
                    "enabled": true
                }
            },
            "allowFastEvaluate": true
        },
        {
            "name": "Attach to a .NET process with debugger",
            "type": "coreclr",
            "request": "attach",
            "processId": "${command:pickProcess}",
            "sourceLinkOptions": {
                "*": {
                    "enabled": true
                }
            },
            "justMyCode": true,
            "enableStepFiltering": false,
            "requireExactSource": false,
            "allowFastEvaluate": true
        }
    ]
}
